---
layout: post
title: 안드로이드기초 복습하기_intent
date:   2018-03-27
tags: [안드로이드, intent]
---

### intent
화면은 시스템이 관리하고 있다 그러한 화면을 띄울라면 시스템이 알아들을 수 있는 방식을 써야한다.
그러한 상자를 intent라고 한다. 안드로이드는 구성요소가 액티비티 서비스 브래드캐스트 수신자. 프로바이더??
서로 정보를 주고 받을 때 intent를 쓴다. 결과값을 받고싶을 때는 startActivitiyforResult()를 쓴다.
intent안에는 액션정보와 데이터 정보가 들어가 있다.

Extra(부가적인 데이터) 인텐트는 추가적인 정보를 넣을 수 있도록 번들객체를 가지고 있고
이 객체를 통해 인텐트안에 정보를 넣어서 다른 애플리케이션 구성요소에 전달할 수 있다.
Intent intent = new Intent(Intent.ACTION_DIAL, Uri.parse("tel:010-1000-1000")); 전화걸기 코드
ACTION_VIEW ACTION_DIAL 거의 똑같네>? VIEW는 뭔가를 보겠다 즉 화면을 보겠다라는 요청 그래서 DIAL과 같은 역할을 하게된다.

버전에 대한 정보는 Gradle. Scripts에 있다. 안드로이드에 이런 요청을 수락하시겠습니다. 그건 AndroidManifest에서 정의해 놓은 코드다.
이런 코드 <uses-permission android:name=">

setContentVIew는 인플레이트 알아서 해준다!!!

startActivity는 intent가 안에 들어가야한다.

~~~
//     Intent intent = new Intent(getApplicationContext(), MenuActivity.class);
//                startActivityForResult(intent,ACTIVITY_MENU);
                  ==================================================
                Intent intent = new Intent();
                ComponentName name = new ComponentName("smc.minjoon.intentpractice","smc.minjoon.intentpractice.MenuActivity");

                intent.setComponent(name);
                startActivityForResult(intent, ACTIVITY_MENU);

~~~

밑에코드와 위의 코드 같은 결과를 낸다. 근데 왜 ??? 장 단점이 있다.
위에 코드는 간단하지만 클래스를 참조할 수 있게 클래스가 정의 되어있어야하고
밑에코드는 코드가 복잡하지만 클래스가 정의되어있지 않아도 이름만 일단 넣은거기 때문에 좀 더 동적으로 구축할 수 있다.



###  Activity 스택
intent로 화면을 불러오면 스택에 쌓이게됨 만약똑같은 액티비티 두개가 나오면??? 그럼 뒤로가도 또 같은 화면이 나온다. 그래서 FLAG라는 속성을 주는데
FLAG_ACTIVITY_SINGLE_TOP 여러개 중에 하나만 만들면 된다.라는 뜻 어떤식으로 쓰이냐 !!
FLAG_ACTIVITY_CLEAT_TOP  등등 종류는 많다.

Intent intent = new Intent(getApplicationContext(), MenuActicity.class);
intent.putExtra("data", data); --- 여기는 데이터 보내주는 부분
intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP); -----여기부분
startActivityForResult(intent, REQUEST_CODE_ANOTHER); 이런식으로 쓰인다


### 부가 데이터 전달하기

직렬화 하면 파일이 좀 커진다. 그래서 안드로이드 내부에서  Parcelable 이라고 만들었다.!!!
그리고 보낼때 값도 보낼 수 있고 객체 배열 다 넣을 수 있고 가장 중요한 바이트로 변환해서도 넣을 수 있다.

만약 item클래스를 Serializable로 구현했다면, getSerializableExtra로 받아야하고 Parcelable로 구현했다면 getParcelable로 받아햐 한다.


### 데이터직렬화


intent에 데이터를 넣을때도 데이터는 직렬화 한다. int나 String은  문제가 없다 과연 클래스는 어떻게 할까??
클래스는 병렬이다 직렬화 시켜줘야한다. 그래서 시리얼라이제이션 이라는 클래스있다 그래서 상속받으면 자바에서 아 이 클래스는 직렬화할 클래스구나 라고 정해놓았다. 무조건 클래스를 보낼때에는 직렬화를 해야한다.즉 Serializable을 붙여야 한다.

왜 객체로 전달해 줄까?? 그냥 스트링으로만 하면 데이터 50개 다 써야되는데 note로 만들어 놓으면 편하다 만약 타이틀 컨텐츠 등등등 항목이 몇십가지 되면힘듬 ...
근데 note로 객체 만들어서 하면 note.만 하면 간단해짐..

받을때는 Note note=data.getParcelableExtra("note");이렇게!!!

### 서버에서 데이터 송수신 하는 방법

1.xml
장점 사람이 구별하기 쉽다.
단점 데이터 양이 많다.
데이터양 O
2.JSON
장점 사람이 구별하기 어렵다
단점 데이터 양이 적다.
대용량에는X

그래서 스마트폰에서는 JSON을 많이 사용한다.

Json을 서버에서 받으면 역직렬화 해서 객체로 받을 수 있다!!!!!!!!!!!! 굿굿
